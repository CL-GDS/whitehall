<% content_for :context, @unpublishing.edition.title %>
<% content_for :page_title, "Edit #{withdrawal_or_unpublishing(@unpublishing.edition)} explaination" %>
<% content_for :title, "Edit #{withdrawal_or_unpublishing(@unpublishing.edition)} explaination" %>
<% content_for :title_margin_bottom, 6 %>
<% content_for :back_link do %>
  <%= render "govuk_publishing_components/components/back_link", {
    href: admin_edition_path(@unpublishing.edition)
  } %>
<% end %>

<div class="govuk-grid-row">
  <section class="govuk-grid-column-two-thirds">
    <%= form_for @unpublishing, url: admin_edition_unpublishing_path(@unpublishing.edition) do |f| %>
      <%= render "govuk_publishing_components/components/textarea", {
        label: {
          heading_size: "l",
          text: "Public explanation",
        },
        hint: "This is shown on the live site",
        name: "unpublishing[explanation]",
        value: @unpublishing.explanation,
        data: {
          module: "paste-html-to-govspeak"
        },
        error_items: (@unpublishing.errors.as_json(full_messages: true)[:explanation].map do |error|
          {
            "text": error,
          }
        end if @unpublishing.errors[:explanation].present?)
      } %>

      <%= render "govuk_publishing_components/components/button", {
        text: "Save",
        margin_bottom: 8
      } %>
    <% end %>
  </section>
</div>
